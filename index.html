<!DOCTYPE html>
<html>
<head>
    <title>RSS Feed</title>
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./style.css">
</head>

<body>

    <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">
        <a class="navbar-brand" href="#">My Feed</a>
    </nav>

    <div class='container'>
        <div class='feedList'>
        </div>
        <ul></ul>
    </div>

    <!-- Javascript -->
    <script>window.$ = window.jQuery = require('jquery');</script>

    <script>
        const electron = require('electron');
        const {ipcRenderer} = electron;
        const ul = document.querySelector('ul');
        const FeedList = document.querySelector(".feedList");

        // Catch item from addItemWindow
        ipcRenderer.on('item:add', function(e, item) {
            const li = document.createElement('li');
            const itemText = document.createTextNode(item);
            li.appendChild(itemText);
            ul.appendChild(li);
        });

        // Clear list
        ipcRenderer.on('item:clear', function(e, item) {
            ul.innerHTML = '';
        });

        // Remove item
        ul.addEventListener('dblclick', function(e) {
            e.target.remove();
        });

        // Clean item from refresh
        ipcRenderer.on('item:clean', function(e) {
            while (FeedList.firstChild) {
                FeedList.removeChild(FeedList.firstChild);
            }
        });

        // Add item from refresh
        ipcRenderer.on('item:refresh', function(e, item) {

            var rowDiv = document.createElement('div');
            rowDiv.classList.add("row", "border");

            var rowCol1 = document.createElement('div');
            rowCol1.classList.add("col-6");
            rowCol1.appendChild(document.createTextNode(item.title));

            var rowCol2 = document.createElement('div');
            rowCol2.classList.add("col-2");
            rowCol2.appendChild(document.createTextNode(item.author));

            var rowCol3 = document.createElement('div');
            rowCol3.classList.add("col-4");
            rowCol3.appendChild(document.createTextNode(item.pubDate));

            rowDiv.appendChild(rowCol1);
            rowDiv.appendChild(rowCol2);
            rowDiv.appendChild(rowCol3);

            FeedList.appendChild(rowDiv);
        });

    </script>

</body>
</html>