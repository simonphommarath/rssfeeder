<!DOCTYPE html>
<html>
<head>
    <title>RSS Feed</title>
    <link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>

<!--     <button>Click to fade in boxes</button><br><br>
    <div id="div1" style="width:80px;height:80px;display:none;background-color:red;"></div><br> -->

    <h1>
        My Feed
    </h1>
    <ul></ul>
    <div class='feedList'>
        
    </div>

    <script>
        window.$ = window.jQuery = require('jquery');
    </script>

    <script>
        const electron = require('electron');
        const {ipcRenderer} = electron;
        const ul = document.querySelector('ul');
        const FeedList = document.querySelector(".feedList");

        // Catch item from addItemWindow
        ipcRenderer.on('item:add', function(e, item) {
            const li = document.createElement('li');
            const itemText = document.createTextNode(item);
            li.appendChild(itemText);
            ul.appendChild(li);
        });

        // Clear list
        ipcRenderer.on('item:clear', function(e, item) {
            ul.innerHTML = '';
        });

        // Remove item
        ul.addEventListener('dblclick', function(e) {
            e.target.remove();
        });

        // Clean item from refresh
        ipcRenderer.on('item:clean', function(e) {
            while (FeedList.firstChild) {
                FeedList.removeChild(FeedList.firstChild);
            }
        });

        // Add item from refresh
        ipcRenderer.on('item:refresh', function(e, item) {
            const div = document.createElement('div');
            div.classList.add("feedItem");
            const itemText = document.createTextNode(item.title);
            div.appendChild(itemText);
            FeedList.appendChild(div);
        });

    </script>

</body>
</html>